@model ScenarioResultViewModel

<h2>Senaryo Sonucu</h2>

<div class="alert alert-info">
	<h4>Toplam Sistem Maliyeti: @Model.TotalCost.ToString("C2")</h4>
</div>

<div id="map" style="height: 600px; width: 100%; margin-bottom: 20px; border: 1px solid #ccc;"></div>

<table class="table table-bordered table-striped">
	<thead class="table-dark">
		<tr>
			<th>Araç ID</th>
			<th>Durum</th>
			<th>Mesafe (km)</th>
			<th>Maliyet</th>
			<th>Güzergah (İstasyon ID)</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var v in Model.Vehicles)
		{
			<tr>
				<td>@v.VehicleId</td>
				<td>
					@if (v.IsRented)
					{
						<span class="badge bg-warning text-dark">Kiralık</span>
					}
					else
					{

						<span class="badge bg-success">Mevcut</span>
					}
				</td>
				<td>@v.TotalDistance.ToString("F2") km</td>
				<td>@v.TotalCost.ToString("C2")</td>
				<td>@string.Join(" -> ", v.StationRoute)</td>
			</tr>
		}
	</tbody>
</table>

<link rel="stylesheet" href="~/leaflet/leaflet.css" />

<script src="~/leaflet/leaflet.js"></script>

<script>
	// C# Modelini JSON olarak JS değişkenine aktarıyoruz
	var vehiclesData = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model.Vehicles));
</script>

<script src="~/js/map.js"></script>